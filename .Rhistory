length = unit(.2, "cm")))
x <- subset(climate, Source == "Berkeley") %>%
ggplot(aes(
x = year,
y = Anomaly10y
))+
geom_line()
x + annotate("rect",
xmin = 1950,
xmax = 2000,
ymin = -1,
ymax = 1,
alpha = .2,
fill = "grey")
x <- subset(climate, Source == "Berkeley") %>%
ggplot(aes(
x = Year,
y = Anomaly10y
))+
geom_line()
x + annotate("rect",
xmin = 1950,
xmax = 2000,
ymin = -1,
ymax = 1,
alpha = .2,
fill = "grey")
x + annotate("rect",
xmin = 1950,
xmax = 2000,
ymin = -1,
ymax = 1,
alpha = .2,
fill = "red")
view(PlantGrowth)
str(PlantGrowth)
x <- PlantGrowth
x$hl <- "No"
str(x)
x$hl[x$group == "trt2"] <- "Si"
str(x)
x$hl <- as.factor(x$hl)
str(x)
x %>%
ggplot(aes(
x = group,
y = weight,
fill = hl
))+
geom_boxplot()
x %>%
ggplot(aes(
x = group,
y = weight,
fill = hl
))+
geom_boxplot()+
scale_fill_manual(values = c("#a1d99b", "#fec44f"),
guide = FALSE)
PlantGrowth %>%
ggplot(aes(
x = group,
y = weight,
fill = group
))+
geom_boxplot()+
scale_fill_manual(values = c("#fa9fb5", "#78c679", "#41b6c4"),
guide = FALSE)
view(cabbage_exp)
str(cabbage_exp)
x <- subset(cabbage_exp, Cultivar == "39")
x %>%
ggplot(aes(
x  = Date,
y = Weight
))+
geom_bar()
x %>%
ggplot(aes(
x  = Date,
y = Weight
))+
geom_bar(fill = "#ffeda0",
colour = "black")
x <- subset(cabbage_exp, Cultivar == "39")
x %>%
ggplot(aes(
x  = Date,
y = Weight
))+
geom_bar(fill = "#ffeda0",
colour = "black")
str(x)
view(x)
x
x <- subset(cabbage_exp, Cultivar == "c39")
x
x %>%
ggplot(aes(
x  = Date,
y = Weight
))+
geom_bar(fill = "#ffeda0",
colour = "black")
x %>%
ggplot(aes(
x  = Date,
y = Weight
))+
geom_bar(fill = "#ffeda0",
colour = "black")
x %>%
ggplot(aes(
x  = Date
))+
geom_bar(fill = "#ffeda0",
colour = "black")
x %>%
ggplot(aes(
x  = Date,
y = Weight
))+
geom_bar(fill = "#ffeda0",
colour = "black")
x %>%
ggplot(aes(
x  = Date,
))+
geom_bar(stat = "identity",
fill = "#ffeda0",
colour = "black")
x %>%
ggplot(aes(
x  = Date
))+
geom_bar(stat = "identity",
fill = "#ffeda0",
colour = "black")
x %>%
ggplot(aes(
x  = Date,
y = Weight
))+
geom_bar(stat = "identity",
fill = "#ffeda0",
colour = "black")
x %>%
ggplot(aes(
x  = Date,
y = Weight
))+
geom_bar(stat = "identity",
fill = c("#ffeda0", "#fd8d3c", "#807dba"),
colour = "black")
x %>%
ggplot(aes(
x  = Date,
y = Weight
))+
geom_bar(stat = "identity",
fill = c("#ffeda0", "#fd8d3c", "#807dba"),
colour = "black")+
geom_errorbar(aes(
ymin = Weight - se,
ymax = Weight + se
),
width = .9)
x %>%
ggplot(aes(
x  = Date,
y = Weight
))+
geom_bar(stat = "identity",
fill = c("#ffeda0", "#fd8d3c", "#807dba"),
colour = "black")+
geom_errorbar(aes(
ymin = Weight - se,
ymax = Weight + se
),
width = .5)
x %>%
ggplot(aes(
x = Date,
y Weight
x %>%
ggplot(aes(
x = Date,
y Weight
x %>%
ggplot(aes(
x = Date,
y Weight
x %>%
ggplot(aes(
x = Date,
y = Weight
))+
geom_line(stat = "identity",
aes(
group = 1
))
x %>%
ggplot(aes(
x = Date,
y = Weight
))+
geom_line(aes(
group = 1
))
x %>%
ggplot(aes(
x = Date,
y = Weight
))+
geom_line(aes(
group = 1
))+
geom_point(size = 4)
x %>%
ggplot(aes(
x = Date,
y = Weight
))+
geom_line(aes(
group = 1
))+
geom_point(size = 4)+
geom_errorbar(aes(
ymin = Weight - se,
ymax  =Weight + se
),
width = .2)
cabbage_exp %>%
ggplot(aes(
x = Date,
y =  Weight,
fill = Cultivar
))+
geom_bar(position = "dodge")
cabbage_exp %>%
ggplot(aes(
x = Date,
y =  Weight,
fill = Cultivar
))+
geom_bar(stat = "identity",
position = "dodge")
#Bad: dodge width not specified
cabbage_exp %>%
ggplot(aes(
x = Date,
y =  Weight,
fill = Cultivar
))+
geom_bar(stat = "identity",
position = "dodge")+
geom_errorbar(aes(
ymin = Weight - se,
ymax = Weight + se
), position = "dogde",
width = 0.3)
#Bad: dodge width not specified
cabbage_exp %>%
ggplot(aes(
x = Date,
y =  Weight,
fill = Cultivar
))+
geom_bar(stat = "identity",
position = "dodge")+
geom_errorbar(aes(
ymin = Weight - se,
ymax = Weight + se
), position = "dodge",
width = 0.3)
cabbage_exp %>%
ggplot(aes(
x = Date,
y =  Weight,
fill = Cultivar
))+
geom_bar(stat = "identity",
position = "dodge")+
geom_errorbar(aes(
ymin = Weight - se,
ymax = Weight + se
),
position = position_dodge(0.9),
width = 0.3)
cabbage_exp %>%
ggplot(aes(
x = Date,
y =  Weight,
fill = Cultivar
))+
geom_bar(stat = "identity",
position = "dodge")+
geom_errorbar(aes(
ymin = Weight - se,
ymax = Weight + se
),
position = position_dodge(0.9),
width = 0.3)+
scale_fill_manual(guide = FALSE)
cabbage_exp %>%
ggplot(aes(
x = Date,
y =  Weight,
fill = Cultivar
))+
geom_bar(stat = "identity",
position = "dodge")+
geom_errorbar(aes(
ymin = Weight - se,
ymax = Weight + se
),
position = position_dodge(0.9),
width = 0.3)+
theme(legend.position = "none")
x <- position_dodge(.3)
cabbage_exp %>%
ggplot(aes(
x = Date,
y = Weight,
colour = Cultivar,
group = Cultivar
))+
geom_errorbar(aes(
ymin = Weight - se,
ymax = Weight + se
),
width = .2,
size = .25,
colour = "black",
position = x)
cabbage_exp %>%
ggplot(aes(
x = Date,
y = Weight,
colour = Cultivar,
group = Cultivar
))+
geom_errorbar(aes(
ymin = Weight - se,
ymax = Weight + se
),
width = .2,
size = .25,
colour = "black",
position = x)+
geom_line(position = x)
cabbage_exp %>%
ggplot(aes(
x = Date,
y = Weight,
colour = Cultivar,
group = Cultivar
))+
geom_errorbar(aes(
ymin = Weight - se,
ymax = Weight + se
),
width = .2,
size = .25,
colour = "black",
position = x)+
geom_line(position = x)+
geom_point(position = x,
size = 2.5)
view(mpg)
str(mpg)
x <- mpg %>%
ggplot(aes(
x = disp,
y = hwy
))+
geom_point()+
facet_grid(. ~ drv)
x
# A data frame with labels for each face
f.label <- data.frame(drv = c("4", "f", "c"),
label = c("4wd", "Front", "Rear"))
# If you use annotate(), the label will appear in all facets
x + annotate("text",
x = 6,
y = 42,
label = "label text")
# The base plot
x <- mpg %>%
ggplot(aes(
x = displ,
y = hwy
))+
geom_point()+
facet_grid(. ~ drv)
# A data frame with labels for each face
f.label <- data.frame(drv = c("4", "f", "c"),
label = c("4wd", "Front", "Rear"))
# If you use annotate(), the label will appear in all facets
x + annotate("text",
x = 6,
y = 42,
label = "label text")
x + geom_text(x = 6,
y = 40,
aes(
label = label
),
data = f.label)
str(mpg)
# A data frame with labels for each face
f.label <- data.frame(drv = c("4", "f", "r"),
label = c("4wd", "Front", "Rear"))
x + geom_text(x = 6,
y = 40,
aes(
label = label
),
data = f.label)
# If you use annotate(), the label will appear in all facets
x + annotate("text",
x = 6,
y = 42,
label = "label text")
modelo <- lm(hwy ~ displ, data = dat)
lm.labels <- function(dat){
modelo <- lm(hwy ~ displ, data = dat)
formula <- sprintf("italic(y) == %.2f %+.2f * italic(x)",
round(coef(modelo)[1], 2),
round(coef(modelo)[2], 2))
r <- cor(dat$displ, dat$hwy)
r2 <- sprintf("italic(R^2) == %.2f", r^2)
data.frame(formula = formula, r2 = r2, stringsAsFactors = FALSE)
}
# For the ddply() function
labels <- ddply(mpg, "drv", lm.labels)
labels
# Plot with formula and R^2 values
x <- geom_smooth(method = lm, se = FALSE)
x
View(x)
# Plot with formula and R^2 values
x <- geom_smooth(method = lm, se = FALSE)+
geom_text(x = 3,
y = 40,
aes(
label = formula
),
data = labels,
parse = TRUE,
hjust = 0)
x <- PlantGrowth %>%
ggplot(aes(
x = group,
y = weight
))+
geom_point()
View(x)
View(x)
x <- mpg %>%
ggplot(aes(
x = displ,
y = hwy
))+
geom_point()+
facet_grid(. ~ drv)
x <- geom_smooth(method = lm, se = FALSE)+
geom_text(x = 3,
y = 40,
aes(
label = formula
),
data = labels,
parse = TRUE,
hjust = 0)
x
x <- geom_smooth(method = lm, se = FALSE)+
geom_text(x = 3,
y = 40,
aes(
label = formula
),
data = labels,
parse = TRUE,
hjust = 0)
x
x + geom_smooth(method = lm, se = FALSE)+
geom_text(x = 3,
y = 40,
aes(
label = formula
),
data = labels,
parse = TRUE,
hjust = 0)
x + geom_smooth(method = lm, se = FALSE)+
geom_text(x = 3,
y = 40,
aes(
label = formula
),
data = labels,
parse = TRUE,
hjust = 0)+
geom_text(x = 3,
y = 35,
aes(
label = r2
),
data = labels,
parse = TRUE,
hjust = 0)
